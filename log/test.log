  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "province" varchar, "city" varchar, "street" varchar, "other" varchar, "reference" varchar, "number" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "user_id" integer)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_user_id" ON "addresses" ("user_id")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "cidades" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nome" varchar, "estado_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX "index_cidades_on_estado_id" ON "cidades" ("estado_id")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "estados" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sigla" varchar, "nome" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "capital_id" integer)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE  INDEX "index_estados_on_capital_id" ON "estados" ("capital_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "provider" varchar, "uid" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "email" varchar, "photo_url" varchar, "acess_token" varchar, "birthday_date" date, "phone" varchar)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20170403001744)[0m
  [1m[35m (4.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20170402012012),
(20170402025744),
(20170402215656),
(20170402220704),
(20170402223239),
(20170402235452),
(20170402235626);

[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2017-04-09 17:28:54 UTC], ["updated_at", 2017-04-09 17:28:54 UTC]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.1ms)[0m  [1m[31mDELETE FROM "addresses";[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'addresses';[0m
  [1m[35m (4.5ms)[0m  [1m[31mDELETE FROM "cidades";[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'cidades';[0m
  [1m[35m (4.2ms)[0m  [1m[31mDELETE FROM "estados";[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'estados';[0m
  [1m[35m (4.2ms)[0m  [1m[31mDELETE FROM "users";[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'users';[0m
  [1m[35m (4.4ms)[0m  [1m[31mDELETE FROM "ar_internal_metadata";[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.5ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'ar_internal_metadata';[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Processing by SessionsController#create as HTML
  Parameters: {"provider"=>"twitter"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by SessionsController#create as HTML
  Parameters: {"provider"=>"twitter"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by SessionsController#create as HTML
  Parameters: {"provider"=>"twitter"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Processing by SessionsController#create as HTML
  Parameters: {"provider"=>"twitter"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Processing by SessionsController#create as HTML
  Parameters: {"provider"=>"twitter"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
Started GET "/" for 127.0.0.1 at 2017-04-09 17:28:55 +0000
Processing by VisitorsController#index as HTML
  Rendering visitors/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  Rendered visitors/index.html.erb within layouts/application (11.9ms)
  Rendered layouts/_navigation_links.html.erb (0.6ms)
  Rendered layouts/_nav_links_for_auth.html.erb (0.6ms)
  Rendered layouts/_navigation.html.erb (91.0ms)
  Rendered layouts/_messages.html.erb (0.6ms)
Completed 200 OK in 26358ms (Views: 26306.4ms | ActiveRecord: 1.1ms)
Started GET "/signin" for 127.0.0.1 at 2017-04-09 17:29:22 +0000
Processing by SessionsController#new as HTML
Redirected to http://www.example.com/auth/facebook
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/auth/facebook" for 127.0.0.1 at 2017-04-09 17:29:22 +0000
Started GET "/auth/facebook/callback" for 127.0.0.1 at 2017-04-09 17:29:22 +0000
Processing by SessionsController#create as HTML
  Parameters: {"provider"=>"facebook"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.0ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-04-09 17:29:22 UTC], ["updated_at", 2017-04-09 17:29:22 UTC]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 5.0ms)
  [1m[35m (2.8ms)[0m  [1m[31mrollback transaction[0m
